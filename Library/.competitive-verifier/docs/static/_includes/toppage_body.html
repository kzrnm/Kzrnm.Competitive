{%- for top in page.data.top -%}
<h2>{{ top.type }}</h2>
{%- if top.type == 'Library Files' -%}

{%- for category in top.categories -%}
<h3>{{ category.name }}</h3>
<ul>
    {%- for item in category.pages -%}
        {%- assign name = item.filename -%}

        {%- if item.title -%}
            {%- capture link_title -%}{{item.title}} <small>({{ name }})</small>{%- endcapture -%}
        {%- else -%}
            {%- capture link_title -%}{{name}}{%- endcapture -%}
        {%- endif -%}
        <li><a href="{{ item.path | relative_url }}">{{ site.icons[item.icon] }} {{ link_title }}</a></li>
    {%- endfor -%}
</ul>
{%- endfor -%}

{%- else -%}

{%- assign bigCategories = "Competitive.Library.Test,Checker" | split: "," -%}
{%- for bigCategory in bigCategories -%}
<h3>{{bigCategory}}</h3>
<ul>
    {%- capture category_exp -%}category.name contains '{{bigCategory}}'{%- endcapture -%}
    {%- assign categories = top.categories | where_exp: "category", category_exp -%}
    {%- for category in categories -%}
        {%- for item in category.pages -%}
            {%- capture verification_root_dir -%}{{bigCategory}}/{%- endcapture -%}
            {%- assign name = item.path | replace_first: verification_root_dir, "" -%}

            {%- if item.title -%}
                {%- capture link_title -%}{{item.title}} <small>({{ name }})</small>{%- endcapture -%}
            {%- else -%}
                {%- capture link_title -%}{{name}}{%- endcapture -%}
            {%- endif -%}
            <li><a href="{{ item.path | relative_url }}">{{ site.icons[item.icon] }} {{ link_title }}</a></li>
        {%- endfor -%}
    {%- endfor -%}
</ul>
{%- endfor -%}

{%- endif -%}
{%- endfor -%}